{"componentChunkName":"component---src-templates-docs-js","path":"/node/0034-javascript-promises/index","result":{"data":{"site":{"id":"Site","siteMetadata":{"title":"Maratona Programação | Reativa","docsLocation":""}},"mdx":{"id":"552a2643-b6ba-568c-b87f-cb5dab79de14","fields":{"id":"552a2643-b6ba-568c-b87f-cb5dab79de14","title":"Entendendo JavaScript Promises","slug":"/node/0034-javascript-promises/index"},"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Entendendo JavaScript Promises\",\n  \"description\": \"As promessas são uma forma de lidar com o código assíncrono em JavaScript, sem escrever muitos retornos de chamada em seu código.\",\n  \"section\": \"Getting Started\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"h2\", null, \"Introdu\\xE7\\xE3o a Promises\"), mdx(\"iframe\", {\n    title: \"Introduction to promises\",\n    src: \"https://glitch.com/embed/#!/embed/nodejs-dev-0034-01?path=server.js&previewSize=35&attributionHidden=true&sidebarCollapsed=true\",\n    alt: \"nodejs-dev-0034-01 on Glitch\",\n    style: {\n      \"height\": \"400px\",\n      \"width\": \"100%\",\n      \"border\": \"0\"\n    }\n  }), mdx(\"p\", null, \"Uma promise (promessa) \\xE9 comumente definida como \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"um proxy para um valor que eventualmente ficar\\xE1 dispon\\xEDvel\"), \".\"), mdx(\"p\", null, \"Promises s\\xE3o um jeito de lidar com c\\xF3digo ass\\xEDncrono, sem ficar preso em \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://callbackhell.com/\"\n  }), \"\\\"inferno de callbacks\\\" (callback hell)\"), \".\"), mdx(\"p\", null, \"Promises s\\xE3o parte da linguagem por anos (introduzidas e padronizadas no ES2015), e se tornaram mais integradas recentemente, com \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"async\"), \" e \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"await\"), \" no ES2017.\"), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Fun\\xE7\\xF5es async\"), \" usam promises por baixo dos panos, ent\\xE3o entender como promises funcionam \\xE9 fundamental para entender como \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"async\"), \" e \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"await\"), \" funcionam.\"), mdx(\"h3\", null, \"Como promises funcionam, resumidamente\"), mdx(\"p\", null, \"Uma vez que a promise tenha sido chamada, ela inicia em um \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"estado pendente (pending)\"), \". Isso significa que a fun\\xE7\\xE3o que a chamou continua executando, enquanto a promise estiver pendente at\\xE9 que se resolva, retornando \\xE0 fun\\xE7\\xE3o que a invocou os dados que foram requisitados.\"), mdx(\"p\", null, \"A promise criada vai eventualmente se encerrar em um \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"estado resolvido (resolved)\"), \", ou em um \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"estado rejeitado (rejected)\"), \", chamando as respectivas fun\\xE7\\xF5es callback (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"then\"), \" e \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"catch\"), \") ao terminar.\"), mdx(\"h3\", null, \"Quais APIs JS usam promises?\"), mdx(\"p\", null, \"Em adi\\xE7\\xE3o ao seu c\\xF3digo e o de bibliotecas, promises s\\xE3o usadas por padr\\xE3o em APIs web modernas, como:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Battery API\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Fetch API\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Service Workers\")), mdx(\"p\", null, \"\\xC9 improv\\xE1vel que voc\\xEA mesmo \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"n\\xE3o\"), \" esteja utilizando promises no JavaScript moderno, ent\\xE3o vamos come\\xE7ar a mergulhar nelas.\"), mdx(\"hr\", null), mdx(\"h2\", null, \"Criando uma promise\"), mdx(\"p\", null, \"A Promise API exp\\xF5e um contrutor Promise, por onde voc\\xEA inicializa usando \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"new Promise()\"), \":\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"let done = true\\n\\nconst isItDoneYet = new Promise((resolve, reject) => {\\n  if (done) {\\n    const workDone = 'Here is the thing I built'\\n    resolve(workDone)\\n  } else {\\n    const why = 'Still working on something else'\\n    reject(why)\\n  }\\n})\\n\")), mdx(\"p\", null, \"Como voc\\xEA pode ver, a promise checa a constante global \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"done\"), \", e se for true, a promise vai para o estado \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"resolved\"), \" (uma vez que a callback \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"resolve\"), \" tenha sido chamada); caso contr\\xE1rio, a callback \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"reject\"), \" \\xE9 executada, colocando a promise em um estado \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"rejected\"), \". (Se nenhuma dessas fun\\xE7\\xF5es \\xE9 chamada, a promise permanece no estado \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"pending\"), \").\"), mdx(\"p\", null, \"Usando \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"resolve\"), \" e \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"reject\"), \", podemos nos comunicar com a fun\\xE7\\xE3o invocadora dizendo qual estado a promise estava, e o que fazer com isso. No caso acima n\\xF3s s\\xF3 retornamos uma string, mas poderia ser um objeto, ou mesmo \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"null\"), \". S\\xF3 de termos criado a promise no trecho acima, ela j\\xE1 come\\xE7ou a executar. \\xC9 importante entender o que est\\xE1 acontecendo na se\\xE7\\xE3o \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"#consumindo-uma-promise\"\n  }), \"Consumindo uma promise\"), \" logo abaixo.\"), mdx(\"p\", null, \"Um exemplo mais comum que voc\\xEA pode encontrar pois a\\xED \\xE9 uma t\\xE9cnica chamada \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Promisifying (promissificar)\"), \". Essa t\\xE9cnica \\xE9 um jeito de poder usar uma fun\\xE7\\xE3o JavaScript cl\\xE1ssica que recebe uma callback, e retornar uma promise:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const fs = require('fs')\\n\\nconst getFile = (fileName) => {\\n  return new Promise((resolve, reject) => {\\n    fs.readFile(fileName, (err, data) => {\\n      if (err) {\\n        reject (err)  // chamar `reject` vai fazer com  que a promise falhe com ou sem o erro passado como argumento\\n        return        // e n\\xE3o queremos ir mais longe\\n      }\\n      resolve(data)\\n    })\\n  })\\n}\\n\\ngetFile('/etc/passwd')\\n.then(data => console.log(data))\\n.catch(err => console.error(err))\\n\")), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Em vers\\xF5es recentes do Node.js, voc\\xEA n\\xE3o precisa fazer essa convers\\xE3o manual para grande parte da API. H\\xE1 uma fun\\xE7\\xE3o promisifying dispon\\xEDvel no \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://nodejs.org/docs/latest-v11.x/api/util.html#util_util_promisify_original\"\n  }), \"m\\xF3dulo util\"), \" que far\\xE1 isso por voc\\xEA, dado que a fun\\xE7\\xE3o que voc\\xEA esteja \\\"promissificando\\\" siga a assinatura correta.\")), mdx(\"hr\", null), mdx(\"h2\", null, \"Consumindo uma promise\"), mdx(\"p\", null, \"Na \\xFAltima se\\xE7\\xE3o, n\\xF3s introduzimos como uma promise \\xE9 criada.\"), mdx(\"p\", null, \"Agora vamos ver como uma promise pode ser \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"consumida\"), \" ou usada.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const isItDoneYet = new Promise(/* ... como acima ... */)\\n//...\\n\\nconst checkIfItsDone = () => {\\n  isItDoneYet\\n    .then(ok => {\\n      console.log(ok)\\n    })\\n    .catch(err => {\\n      console.error(err)\\n    })\\n}\\n\")), mdx(\"p\", null, \"Rodar \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"checkIfItsDone()\"), \" vai especificar fun\\xE7\\xF5es para executar quando a promise \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"isItDoneYet\"), \" resolver (na chamada \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"then\"), \") ou rejeitar (na chamada \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"catch\"), \").\"), mdx(\"hr\", null), mdx(\"h2\", null, \"Encadeando promises\"), mdx(\"p\", null, \"Uma promise pode ser retornada para outra promise, criando uma cadeia de promises.\"), mdx(\"p\", null, \"Um \\xF3timo exemplo de encadeamento de promises \\xE9 a Fetch API, que podemos usar para obter um recurso e enfileirar uma cadeia de promises para executar quando o recurso for obtido.\"), mdx(\"p\", null, \"A Fetch API um mecanismo baseado em promise, e chamar \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fetch()\"), \" \\xE9 equivalente a definir suas pr\\xF3prias promises usando \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"new Promise()\"), \".\"), mdx(\"h3\", null, \"Exemplo de encadeamento de promises\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const status = response => {\\n  if (response.status >= 200 && response.status < 300) {\\n    return Promise.resolve(response)\\n  }\\n  return Promise.reject(new Error(response.statusText))\\n}\\n\\nconst json = response => response.json()\\n\\nfetch('/todos.json')\\n  .then(status)    // note que a fun\\xE7\\xE3o `status` \\xE9 na verdade **chamada** aqui, e ela **retorna uma promise**\\n  .then(json)      // da mesma forma, a \\xFAnica diferen\\xE7a aqui \\xE9 que a fun\\xE7\\xE3o `json` retorna uma promise que \\xE9 resolvida com `data`\\n  .then(data => {  // ... por isso que `data` aparece aqui como primeiro par\\xE2metro da fun\\xE7\\xE3o an\\xF4nima\\n    console.log('Request succeeded with JSON response', data)\\n  })\\n  .catch(error => {\\n    console.log('Request failed', error)\\n  })\\n\")), mdx(\"p\", null, \"Nesse exemplo, n\\xF3s chamamos \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fetch()\"), \" para obter uma lita de items TODO do arquivo \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"todos.json\"), \" localizado na raiz do dom\\xEDnio, e n\\xF3s criamos uma cadeia de promises.\"), mdx(\"p\", null, \"Rodanr \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fetch()\"), \" retorna uma \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"https://fetch.spec.whatwg.org/#concept-response\"\n  }), \"response (resposta)\"), \", que cont\\xE9m v\\xE1rias propriedades, e dentre elas as que usamos no exemplo:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"status\"), \", um valor num\\xE9rico representando o c\\xF3digo de status HTTP\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"statusText\"), \", uma mensagem de status, que ser\\xE1 \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"OK\"), \" se a requisi\\xE7\\xE3o for bem-sucedida.\")), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"response\"), \" tamb\\xE9m tem um m\\xE9todo \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"json()\"), \", que retorna uma promise que vai resolver com o conte\\xFAdo do body processado e transformado em JSON.\"), mdx(\"p\", null, \"Ent\\xE3o dadas essas promises, isso \\xE9 o que acontece: a primeira promise na cadeia \\xE9 a fun\\xE7\\xE3o que n\\xF3s definimos, chamada \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"status()\"), \", que checa o status da response e se n\\xE3o for uma resposta bem-sucedida (entre 200 e 299), a promise \\xE9 rejeitada.\"), mdx(\"p\", null, \"Essa opera\\xE7\\xE3o far\\xE1 com que a cadeia de promises pule todas promises encadeadas e pule diretamente para o \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"catch()\"), \" no final, logando o texto \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Request failed\"), \" e a mensagem de erro.\"), mdx(\"p\", null, \"Se em vez disso obter suceddo, \\xE9 chamada a fun\\xE7\\xE3o \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"json()\"), \" que definimos. Desde que a promise anterior, quando bem-sucedida, tenha retornado o objeto \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"response\"), \", n\\xF3s o obtemos como um input para a segunda promise.\"), mdx(\"p\", null, \"Nesse caso, n\\xF3s retornamos os dados processados em JSON, assim a terceira promise recebe o JSON diretamente:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \".then((data) => {\\n  console.log('Request succeeded with JSON response', data)\\n})\\n\")), mdx(\"p\", null, \"e n\\xF3s simplesmente o logamos no console.\"), mdx(\"hr\", null), mdx(\"h2\", null, \"Tratando erros\"), mdx(\"p\", null, \"No exemplo da se\\xE7\\xE3o anterior, n\\xF3s tinhamos um \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"catch\"), \" que foi adicionado na cadeia de promises.\"), mdx(\"p\", null, \"Quando qualquer coisa na cadeia de promises falha e dispara um erro ou rejeita uma promise, o controle vai para o \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"catch()\"), \" mais pr\\xF3ximo na cadeia.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"new Promise((resolve, reject) => {\\n  throw new Error('Error')\\n}).catch(err => {\\n  console.error(err)\\n})\\n\\n// or\\n\\nnew Promise((resolve, reject) => {\\n  reject('Error')\\n}).catch(err => {\\n  console.error(err)\\n})\\n\")), mdx(\"h3\", null, \"Cascateando erros\"), mdx(\"p\", null, \"Se dentro do \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"catch()\"), \" voc\\xEA lan\\xE7ar um erro, voc\\xEA pode adicionar um segundo \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"catch()\"), \" para trat\\xE1-lo, e assim por diante.\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"new Promise((resolve, reject) => {\\n  throw new Error('Error')\\n})\\n  .catch(err => {\\n    throw new Error('Error')\\n  })\\n  .catch(err => {\\n    console.error(err)\\n  })\\n\")), mdx(\"hr\", null), mdx(\"h2\", null, \"Orquestrando promises\"), mdx(\"h3\", null, \"Promise.all()\"), mdx(\"p\", null, \"Se voc\\xEA precisa sincronizar promises diferentes, \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Promise.all()\"), \" te ajuda a definir uma lista de promises, e executa algo quando elas todas s\\xE3o resolvidas.\"), mdx(\"p\", null, \"Examplo:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const f1 = fetch('/something.json')\\nconst f2 = fetch('/something2.json')\\n\\nPromise.all([f1, f2])\\n  .then(res => {\\n    console.log('Array of results', res)\\n  })\\n  .catch(err => {\\n    console.error(err)\\n  })\\n\")), mdx(\"p\", null, \"A sintaxe de atribui\\xE7\\xE3o por desestrutura\\xE7\\xE3o do ES2015 permite que voc\\xEA tamb\\xE9m fa\\xE7a isso:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"Promise.all([f1, f2]).then(([res1, res2]) => {\\n  console.log('Results', res1, res2)\\n})\\n\")), mdx(\"p\", null, \"\\xC9 claro que voc\\xEA n\\xE3o est\\xE1 limitado a s\\xF3 usar o \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fetch\"), \", \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"qualquer promise pode ser usada dessa forma\"), \".\"), mdx(\"h3\", null, \"Promise.race()\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Promise.race()\"), \" roda quando a primeira das promises que voc\\xEA passar for resolvida, e roda a callback anexada apenas uma vez, com o resultado da primeira promise resolvida.\"), mdx(\"p\", null, \"Exemplo:\"), mdx(\"pre\", null, mdx(\"code\", _extends({\n    parentName: \"pre\"\n  }, {\n    \"className\": \"language-js\"\n  }), \"const first = new Promise((resolve, reject) => {\\n  setTimeout(resolve, 500, 'first')\\n})\\nconst second = new Promise((resolve, reject) => {\\n  setTimeout(resolve, 100, 'second')\\n})\\n\\nPromise.race([first, second]).then(result => {\\n  console.log(result) // second\\n})\\n\")), mdx(\"h2\", null, \"Erros comuns\"), mdx(\"h3\", null, \"Uncaught TypeError: undefined is not a promise\"), mdx(\"p\", null, \"Se voc\\xEA obter um erro \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Uncaught TypeError: undefined is not a promise\"), \" no console, certifique-se de usar \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"new Promise()\"), \" em vez de apenas \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Promise()\"), \".\"), mdx(\"h3\", null, \"UnhandledPromiseRejectionWarning\"), mdx(\"p\", null, \"Isso significa que a promise que voc\\xEA chamou foi rejeitada, mas n\\xE3o tinha nenhum \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"catch\"), \" preparado para tratar o erro. Adicione um \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"catch\"), \" depois do \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"then\"), \" causador do erro para trat\\xE1-lo propriamente.\"));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#introdução-a-promises","title":"Introdução a Promises","items":[{"url":"#como-promises-funcionam-resumidamente","title":"Como promises funcionam, resumidamente"},{"url":"#quais-apis-js-usam-promises","title":"Quais APIs JS usam promises?"}]},{"url":"#criando-uma-promise","title":"Criando uma promise"},{"url":"#consumindo-uma-promise","title":"Consumindo uma promise"},{"url":"#encadeando-promises","title":"Encadeando promises","items":[{"url":"#exemplo-de-encadeamento-de-promises","title":"Exemplo de encadeamento de promises"}]},{"url":"#tratando-erros","title":"Tratando erros","items":[{"url":"#cascateando-erros","title":"Cascateando erros"}]},{"url":"#orquestrando-promises","title":"Orquestrando promises","items":[{"url":"#promiseall","title":"Promise.all()"},{"url":"#promiserace","title":"Promise.race()"}]},{"url":"#erros-comuns","title":"Erros comuns","items":[{"url":"#uncaught-typeerror-undefined-is-not-a-promise","title":"Uncaught TypeError: undefined is not a promise"},{"url":"#unhandledpromiserejectionwarning","title":"UnhandledPromiseRejectionWarning"}]}]},"parent":{"__typename":"File","id":"ed926f9e-8c80-524e-a7db-172167266b29","relativePath":"node/0034-javascript-promises/index.md"},"frontmatter":{"metaTitle":null,"metaDescription":null}},"allMdx":{"edges":[{"node":{"id":"e0266471-a669-58a3-8209-a73e1ee6e57f","fields":{"slug":"/introduction","title":"Paulo Luan"}}},{"node":{"id":"3eb88639-8ea8-5254-a79f-49316ad1d843","fields":{"slug":"/node","title":"Introdução ao Node.js"}}},{"node":{"id":"a65b4705-0eed-56e8-b4b6-933dedb24081","fields":{"slug":"/","title":"Introdução"}}},{"node":{"id":"c1d78226-41d1-53fa-98cd-4324f3f64c51","fields":{"slug":"/node/0002-node-history/index","title":"Uma breve história do Node.js"}}},{"node":{"id":"a60f70d6-5a6d-50d5-9bb6-519bff91cb69","fields":{"slug":"/node/0003-node-installation/index","title":"Como instalar o Node.js"}}},{"node":{"id":"24217dad-9f68-5aa2-a200-4abb2dae9045","fields":{"slug":"/node/0004-node-javascript-language/index","title":"Quanto de JavaScript você precisa saber para usar Node.js?"}}},{"node":{"id":"87331b12-77e3-5bc6-be54-cdd64f0fcc04","fields":{"slug":"/node/0005-node-difference-browser/index","title":"Diferenças entre Node.js e o navegador"}}},{"node":{"id":"2e478353-d8ea-5b3c-8c24-da6d6ab54ec4","fields":{"slug":"/node/0006-v8/index","title":"O V8 JavaScript Engine"}}},{"node":{"id":"74b2fb83-e6b8-5ecd-bcb9-aefe9cea3579","fields":{"slug":"/node/0007-node-run-cli/index","title":"Execute scripts Node.js na linha de comando"}}},{"node":{"id":"72f74f63-be28-52dd-b28d-e4b0ddf37c38","fields":{"slug":"/node/0008-node-terminate-program/index","title":"Como sair de um programa Node.js"}}},{"node":{"id":"03b7e9f9-2f56-55be-bff6-81e460683e80","fields":{"slug":"/node/0009-node-environment-variables/index","title":"Como ler variáveis de ambiente do Node.js"}}},{"node":{"id":"6c2ddae1-21e0-5919-8bee-e7cbc2498d07","fields":{"slug":"/node/0011-node-repl/index","title":"Como usar o REPL no Node.js"}}},{"node":{"id":"b60252a2-b605-5de5-a10c-bacf4113f114","fields":{"slug":"/node/0012-node-cli-args/index","title":"Node.js, aceite os argumentos da linha de comando"}}},{"node":{"id":"bb8ed934-3dad-57b7-ad84-044989fca4bb","fields":{"slug":"/node/0013-node-output-to-cli/index","title":"Saída para a linha de comando usando Node.js"}}},{"node":{"id":"48a09f43-b163-5af6-a1c6-0eb01d251967","fields":{"slug":"/node/0014-node-input-from-cli/index","title":"Aceite a entrada da linha de comando em Node.js"}}},{"node":{"id":"8bc84d66-1daf-5902-8743-cd9f3ce7106a","fields":{"slug":"/node/0015-node-export-module/index","title":"Expor a funcionalidade de um arquivo Node.js usando exportações"}}},{"node":{"id":"73b8fa3e-f32a-5090-b2f9-5f21f0336cc4","fields":{"slug":"/node/0016-npm/index","title":"Uma introdução ao gerenciador de pacotes npm"}}},{"node":{"id":"f4072ca1-a31b-5f81-81be-64f56a6441ce","fields":{"slug":"/node/0017-where-npm-install-packages/index","title":"Onde o npm instala os pacotes?"}}},{"node":{"id":"8bf59d0c-c67a-595c-a8fe-1489b256d33a","fields":{"slug":"/node/0018-how-to-use-npm-package/index","title":"Como usar ou executar um pacote instalado usando npm"}}},{"node":{"id":"974db50b-ec9a-5bdb-883e-8bcda95bf761","fields":{"slug":"/node/0019-package-json/index","title":"O guia do package.json"}}},{"node":{"id":"1962c60d-09c5-55d9-86b2-fb678203eae2","fields":{"slug":"/node/0020-package-lock-json/index","title":"O arquivo package-lock.json"}}},{"node":{"id":"87b508b5-b0fa-5413-9129-5fd004723a21","fields":{"slug":"/node/0021-npm-know-version-installed/index","title":"Encontre a versão instalada de um pacote npm"}}},{"node":{"id":"82b79031-4d25-53fc-b40d-5de939aafe51","fields":{"slug":"/node/0022-npm-install-previous-package-version/index","title":"Instale uma versão mais antiga de um pacote npm"}}},{"node":{"id":"229f0d99-8cf4-5e86-b288-8b455f9a83d5","fields":{"slug":"/node/0023-update-npm-dependencies/index","title":"Atualize todas as dependências do Node.js para a versão mais recente"}}},{"node":{"id":"0b56f8e2-557a-5e40-b771-362e99ef2bc9","fields":{"slug":"/node/0024-npm-semantic-versioning/index","title":"Semantic Versioning com npm"}}},{"node":{"id":"b0887957-09fb-5d06-a04d-32609d07a364","fields":{"slug":"/node/0025-npm-uninstall-packages/index","title":"Desinstalando pacotes npm"}}},{"node":{"id":"7021fb86-c28d-5770-abfe-3af156474354","fields":{"slug":"/node/0026-npm-packages-local-global/index","title":"Pacotes npm global ou local"}}},{"node":{"id":"d951f70a-a345-57c5-b486-9e2e134efc4f","fields":{"slug":"/node/0027-npm-dependencies-devdependencies/index","title":"npm dependencies e devDependencies"}}},{"node":{"id":"41304e55-ffc5-5626-9bce-2d7a01ca231c","fields":{"slug":"/node/0028-npx/index","title":"O npx Package Runner"}}},{"node":{"id":"a12f8be2-e2cc-5093-bc61-4df3114f9465","fields":{"slug":"/node/0029-node-event-loop/index","title":"Event Loop"}}},{"node":{"id":"b3f4e9ef-31e8-512b-9bf6-e70822e4e36f","fields":{"slug":"/node/0031-node-setimmediate/index","title":"Entendendo setImmediate()"}}},{"node":{"id":"a3e0cbbc-60e0-5718-a461-8993e5632f90","fields":{"slug":"/node/0030-node-process-nexttick/index","title":"Entendendo process.nextTick()"}}},{"node":{"id":"8365a4c8-6115-56f9-81c9-c3fb6e9607fb","fields":{"slug":"/node/0033-javascript-callbacks/index","title":"Programação assíncrona de JavaScript e Callbacks"}}},{"node":{"id":"ebe3091e-3d10-57e1-968d-8fe5508beeb8","fields":{"slug":"/node/0032-javascript-timers/index","title":"JavaScript Timers"}}},{"node":{"id":"552a2643-b6ba-568c-b87f-cb5dab79de14","fields":{"slug":"/node/0034-javascript-promises/index","title":"Entendendo JavaScript Promises"}}},{"node":{"id":"41d1dbbd-3396-54bd-8963-cc4f9be94529","fields":{"slug":"/node/0035-javascript-async-await/index","title":"JavaScript assíncrono moderno com Async e Await"}}},{"node":{"id":"95ca7401-7657-5f87-87d1-dcaf33fd9db1","fields":{"slug":"/node/0036-node-event-emitter/index","title":"Event emitter"}}},{"node":{"id":"727ae026-4c54-5035-8d91-1b6b3de010ed","fields":{"slug":"/node/0037-node-http-server/index","title":"Construindo um servidor HTTP"}}},{"node":{"id":"5d5b5e5d-9198-591b-b040-0392591636f0","fields":{"slug":"/node/0038-node-make-http-requests/index","title":"Fazer solicitações HTTP com Node.js"}}},{"node":{"id":"7f813a35-e9df-5d4f-8ee7-bf3af09dbabe","fields":{"slug":"/node/0039-node-http-post/index","title":"Faça uma requisição HTTP POST usando Node.js"}}},{"node":{"id":"93bca157-15bb-58c8-a20b-9fb41b955c0f","fields":{"slug":"/node/0040a-node-request-data/index","title":"Get HTTP request body data usando Node.js"}}},{"node":{"id":"01d49200-0669-51f1-944f-06afdc2a8351","fields":{"slug":"/node/0040b-node-file-descriptors/index","title":"Trabalhar com descritores de arquivo em Node.js"}}},{"node":{"id":"60adc125-2516-5075-8a28-c31591de43c9","fields":{"slug":"/node/0041-node-file-stats/index","title":"Como obter os detalhes de um arquivo usando Node.js"}}},{"node":{"id":"648ccb00-734a-52f7-b52b-a0cfaadb5d9b","fields":{"slug":"/node/0042-node-file-paths/index","title":"Path de arquivo Node.js"}}},{"node":{"id":"dbe6f52d-ee4c-5e86-9254-c204e09e1df7","fields":{"slug":"/node/0043-node-reading-files/index","title":"Como Ler arquivos usando Node.js"}}},{"node":{"id":"66f59a75-32c5-556d-9e3d-b05ff33a00e8","fields":{"slug":"/node/0044-node-writing-files/index","title":"Gravando arquivos com Node.js"}}},{"node":{"id":"428fca48-25a3-5d79-9fc2-ee81f898b4f6","fields":{"slug":"/node/0045-node-folders/index","title":"Trabalho com pastas em Node.js"}}},{"node":{"id":"ac253387-0255-5eab-8acc-fe25eddde94f","fields":{"slug":"/node/0046-node-module-fs/index","title":"O módulo fs do Node.js"}}},{"node":{"id":"c4ae8989-d9b9-5d4f-a993-0301d8fe91b9","fields":{"slug":"/node/0047-node-module-path/index","title":"O módulo de path do Node.js"}}},{"node":{"id":"24b4f530-d9ec-5599-9b6d-d1619a39b544","fields":{"slug":"/node/0048-node-module-os/index","title":"O módulo de sistema operacional Node.js."}}},{"node":{"id":"a1747dce-79a2-567d-a4a8-02fcb754b009","fields":{"slug":"/node/0049-node-module-events/index","title":"O módulo de eventos do Node.js"}}},{"node":{"id":"265489d4-29af-5add-acdc-bf29f99a943c","fields":{"slug":"/node/0050-node-module-http/index","title":"O módulo http do Node.js"}}},{"node":{"id":"714cf4a1-26ee-5ed1-965f-27d8656075f0","fields":{"slug":"/node/0051-node-buffers/index","title":"Node.js Buffers"}}},{"node":{"id":"c44130ab-1d0d-50fb-b50a-51c756a08689","fields":{"slug":"/node/0052-nodejs-streams/index","title":"Node.js Streams"}}},{"node":{"id":"0dd059c7-50b2-5237-bbaa-feef45f83419","fields":{"slug":"/node/0053-node-difference-dev-prod/index","title":"Node.js, a diferença entre desenvolvimento e produção"}}},{"node":{"id":"26489787-bfcb-563f-b781-88b48de6a718","fields":{"slug":"/node/0054-node-exceptions/index","title":"Tratamento de erros no Node.js"}}},{"node":{"id":"cfdfbe3e-9ccc-54ab-b60f-3d8dbe786a47","fields":{"slug":"/node/0055-node-inspect-object/index","title":"Como Loggar um objeto no Node.js"}}}]}},"pageContext":{"id":"552a2643-b6ba-568c-b87f-cb5dab79de14"}}}